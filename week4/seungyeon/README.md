포인터 ⇒ 메모리 주소를 더 높은 수준으로 추상화한 것

참조 ⇒ 포인터를 한번 더 추상화한 것

- Stack
    - 함수의 지역변수(자동변수), 매개변수, 반환주소 등이 사용하는 선형 메모리 공간
    - 컴파일 타임에 필요한 메모리 공간 크기 확인 가능
        - 지역변수의 수명을 추적할 수 있기에 가능!
    - 호출 스택이 무한정 늘어나는 건 논리적으로 비효율적
        - 함수 안에서 함수를 호출하고 호출하고 호출하고…
        - 일정 범위를 넘어가면 디버깅도 어렵고 비효율적임 → 여러 함수 코드가 얽혀 있으므로
    - 동적 배열을 활용하면 힙의 역할을 일부 대체할 수 있다

- 스택과 멀티스레딩 이슈
    - 스택에 특정 함수 범위를 넘어서도 존재해야 하는 변수를 관리하기 어렵다
    - 멀티스레딩 환경에서 여러 스레드가 동시에 접근해야 한다면
        - 구현이 어렵거나 구조적으로 불가능

- 힙 메모리의 파편화(Fragmentation)
    - `malloc`
    - 메모리는 일정 블록(Allocation, Page) 단위로 관리
        - 응용 프로그램 수준에서 모든 메모리는 가상 메모리 환경이며 이는 1차원적 선형 구조
        - 내부 파편화 발생
    - 외부 파편화/내부 파편화
        - 외부 파편화 ⇒ 사용하지 못하는 작은 메모리 블록들이 메모리 공간에 흩어져 있는 상태
        - 내부 파편화 ⇒ 할당된 메모리 블록 내에서 사용되지 않고 낭비되는 공간

프로세스가 사용하는 메모리 주소는 실제 메모리 주소와 다르다 ⇒ 가상 메모리

- 스택
    - 함수 호출과 관련된 변수들, 지역 변수나 매개변수가 저장되는 영역이다.
        - 함수가 호출되면 스택에는 지역 변수, 매개변수, 함수 호출 끝난 뒤 돌아갈 반환 주소 값
    - 함수의 호출과 함께 할당되고, 함수 호출이 종료되면 소멸한다.
    - 스택 영역에 저장되는 함수의 호출 정보를 스택 프레임이라고 한다.
    - 함수를 실행하다 원래로 돌아오려면
        - 어디서 왔는지 → return
        - 어디로 가는지 → jump

- 힙
    - 사용자가 직접 관리하는 메모리 영역. 사용자에 의해 동적으로 공간이 할당되고 해제된다. 사용자가 직접 관리해야 함.
    - `낮은 주소`에서 `높은 주소` 방향으로 할당된다.
    - 힙 영역의 크기는 프로그램이 실행되는 도중인 `런타임`에 사용자가 직접 결정한다.
    - `new`로 생성하는 Object 객체들이 저장되는 영역이다.
    - `free()` 연산으로 프로그램 종료 시 할당된 공간을 해제해줘야 하는데, 자바에서는 `Garbage Collector` 가 메모리 공간을 자동으로 해제 해준다.
    - 메모리 크기의 제한이 없다.
    - 스택에 비해 느리다.
    - 만약 여러 함수에 걸쳐서 공유되는 데이터를 사용하고 싶다면?
        - 힙 영역 사용
    - `malloc`  → 메모리 할당 요청
    - `free` → 메모리 해제 요청
    
    1. 힙 영역에서 할당 가능한 영역을 찾는 것
    2. 사용 가능한 메모리 조각이 많을 때, 어떤 조각을 반환해야 할까?
    3. 메모리를 할당하고 남은 부분이 있다면, 그 부분은 어떻게 해결해야 할까?
    4. 사용자가 반환한 메모리는 어떻게 처리해야 할까?

1. 연결리스트 활용하기

어떤 영역이 사용 가능한 메모리이고, 어떤 영역이 이미 할당된 메모리인지 구분하는 방법이 필요

- 해당 메모리 조각이 비어 있는지
- 해당 메모리 조각의 크기

이 두 가지 정보를 기록하여 링크드리스트 구현

1. 할당 전략
- 최초 적합 방식
    - 매번 처음부터 탐색하다가 가장 먼저 발견된 요구 사항을 만족하는 항목 반환
- 다음 적합 방식
    - 메모리를 요청할 때 처음부터 검색하는 대신, 적합한 여유 메모리 조각이 마지막으로 발견된 위치에서 시작
- 최적 적합 방식
    - 먼저 사용 가능한 메모리 조각을 모두 찾은 후, 그중 요구 사항을 만족하면서 크기가 가장 작은 조각을 반환
